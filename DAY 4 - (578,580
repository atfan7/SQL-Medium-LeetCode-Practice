PROBLEM ::: 578


select question_id as survey_log from (

select

question_id,sum(case when action='answer' then 1 else 0 end) / sum(case when action='show' then 1 else 0 end ) as rate
from 

SurveyLog
group by question_id
) as t
order by t.rate desc,question_id asc 
limit 1 


PROBLEM 580:::

select
dept_name , ifnull (count(student_id),0) as student_number
from 

Student s right join Department d 
on s.dept_id =d.dept_id
group by dept_name 
order by student_number  desc, dept_name asc 

